# **Лекция №12: Индексы**
> _Разработка проекта_

## **Задание:**
Индексы PostgreSQL

Цель:
Знать и уметь применять основные виды индексов PostgreSQL;
Построить и анализировать план выполнения запроса;
Оптимизировать запросы для с использованием индексов.


Описание/Пошаговая инструкция выполнения домашнего задания:
Создать индексы на БД, которые ускорят доступ к данным.

В данном задании тренируются навыки:

определения узких мест
- написания запросов для создания индекса
- оптимизации
- Необходимо:
1. Создать индекс к какой-либо из таблиц вашей БД
2. Прислать текстом результат команды explain,
в которой используется данный индекс
3. Реализовать индекс для полнотекстового поиска
4. Реализовать индекс на часть таблицы или индекс
на поле с функцией
5. Создать индекс на несколько полей
6. Написать комментарии к каждому из индексов
7. Описать что и как делали и с какими проблемами
столкнулись

Критерии оценки:
Выполнение ДЗ: 10 баллов
плюс 2 балла за красивое решение
минус 2 балла за рабочее решение, и недостатки указанные преподавателем не устранены
---

## **Выполнено:**

1. Создать индекс к какой-либо из таблиц вашей БД

Используем таблицу `Покупки (purchases)`
~~~
CREATE TABLE purchases (
id INT PRIMARY KEY,
customer_id INT NOT NULL,
product_id INT NOT NULL,
price_id INT NOT NULL,
quantity INT NOT NULL,
purchase_date DATE NOT NULL,
);
~~~

Выполним запрос без индекса:
~~~
explain select quantity from purchases where quantity > 11;
                       QUERY PLAN                        
---------------------------------------------------------
 Seq Scan on purchases  (cost=0.00..1.05 rows=1 width=4)
   Filter: (quantity > 11)
(2 rows)
~~~

Создадим индекс
~~~
CREATE INDEX ON purchases(quantity);
~~~
